# Web版 BehaviorTree.CPP 可视化编辑与调试工具

## Core Features

- 拖拽编排与连线的可视化行为树编辑

- 单步与断点的实时调试

- 事件流驱动的时间轴回放

- 节点状态与黑板的实时监控

- XML 导入/导出与校验

- 多标签、模板库与搜索

## Tech Stack

{
  "Web": {
    "arch": "react",
    "component": "shadcn"
  },
  "iOS": null,
  "Android": null
}

## Design

现代中性科技风，半透明/毛玻璃、柔和阴影与微动效；桌面优先12列栅格：顶栏、左侧节点库、中部画布、右侧属性、底部时间轴；可停靠面板与快捷键。

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] 初始化项目与工具链（Vite React TS），集成 Tailwind 与 shadcn/ui，配置主题与颜色变量

[X] 接入 lucide-react 图标与基础样式，搭建全局布局（TopBar、Left/Right Pane、Bottom Dock）

[X] 集成 React Flow，渲染基础画布与网格、缩放、平移、Minimap

[X] 实现节点类型与端口定义（Action/Condition/Control/Decorator），样式与状态徽标

[X] 实现从节点库拖拽到画布、创建与删除节点、连线与断开连线

[X] 连线规则校验（仅允许out→in，下连，禁自环/回路）

[X] 右键上下文菜单（复制/粘贴/克隆/对齐/折叠子树），撤销/重做

[ ] 构建状态管理（Zustand/Jotai）与行为树模型（节点/边/黑板）

[ ] 实现多标签编辑（TabBar）与当前项目会话管理

[ ] XML 导入解析（BehaviorTree.CPP），映射为内部模型并渲染

[ ] XML 导出生成器，支持下载与格式化校验提示

[ ] WebSocket 适配层与消息协议定义，提供可切换的 Mock 通道

[ ] 调试控制条：运行/暂停/单步/重置，前端状态机与按钮状态联动

[ ] 断点面板与画布断点标记，命中反馈与启用/禁用切换

[ ] 事件流记录器：接入调试事件、去抖与限流、筛选与搜索

[ ] 时间轴组件：刻度、缩放、拖拽滑杆、事件标记渲染与命名

[ ] 回放控制：播放、跳转、区间循环、速度调节，与画布状态同步

[ ] 节点实时高亮与边脉冲效果，基于事件驱动的渲染优化

[ ] 状态监控面板：指标卡片与实时曲线（虚拟化渲染）

[ ] 黑板快照查看器与节点属性联动（当前值/历史）

[ ] 全局搜索与命令面板（节点、模板、操作）

[ ] 可停靠/折叠面板布局，持久化面板位置与开关到本地

[ ] 快捷键系统：保存、对齐、缩放、选择、调试控制映射

[ ] 画布性能优化：批量更新、视口内渲染、事件节流

[ ] 基础单元测试（XML 解析/生成、协议适配、状态机）
