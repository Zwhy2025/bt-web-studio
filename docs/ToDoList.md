# Web版 BehaviorTree.CPP 可视化编辑与调试工具

## 核心功能

* **拖拽编排与连线的可视化行为树编辑**
  提供直观的界面用于快速构建与修改行为树，支持节点之间的自由拖拽与连接。

* **单步与断点的实时调试**
  实时调试工具，支持逐步执行、断点管理以及运行时状态跟踪，帮助开发者细致地分析树的行为。

* **事件流驱动的时间轴回放**
  支持基于事件流的回放功能，用户可以在时间轴上查看行为树的执行历史并进行精准的状态回放。

* **节点状态与黑板的实时监控**
  动态展示各个节点的当前状态，支持黑板变量的实时监控与修改，以便在调试过程中获取即时反馈。

* **XML 导入/导出与校验**
  支持从 BehaviorTree.CPP 中导入和导出 XML 格式的行为树数据，提供格式校验和导入错误提示。

* **多标签、模板库与搜索**
  多标签界面支持用户同时编辑多个行为树，模板库提供常用节点和树结构，增强工作效率；内建全局搜索功能，便于快速定位节点或模板。

## 技术栈

```json
{
  "Web": {
    "arch": "react",
    "component": "shadcn"
  },
  "iOS": null,
  "Android": null
}
```

## 设计

现代中性科技风，半透明/毛玻璃、柔和阴影与微动效；桌面优先12列栅格：顶栏、左侧节点库、中部画布、右侧属性、底部时间轴；可停靠面板与快捷键。

## 开发计划

Note:
[ ] 是待办
[/] 是进行中
[x] 是已完成

---

### ToDoList

* [x] 初始化项目与工具链（Vite React TS），集成 Tailwind 与 shadcn/ui，配置主题与颜色变量
* [x] 接入 lucide-react 图标与基础样式，搭建全局布局（TopBar、Left/Right Pane、Bottom Dock）
* [x] 集成 React Flow，渲染基础画布与网格、缩放、平移、Minimap
* [x] 实现节点类型与端口定义（Action/Condition/Control/Decorator），样式与状态徽标
* [x] 实现从节点库拖拽到画布、创建与删除节点、连线与断开连线
* [x] 连线规则校验（仅允许out→in，下连，禁自环/回路）
* [x] 右键上下文菜单（复制/粘贴/克隆/对齐/折叠子树），撤销/重做* 
* [X] 构建状态管理（Zustand/Jotai）与行为树模型（节点/边/黑板）
* [X] 实现多标签编辑（TabBar）与当前项目会话管理
* [ ] XML 导入解析（BehaviorTree.CPP），映射为内部模型并渲染
* [ ] XML 导出生成器，支持下载与格式化校验提示
* [ ] WebSocket 适配层与消息协议定义，提供可切换的 Mock 通道
* [ ] 调试控制条：运行/暂停/单步/重置，前端状态机与按钮状态联动
* [ ] 断点面板与画布断点标记，命中反馈与启用/禁用切换
* [ ] 事件流记录器：接入调试事件、去抖与限流、筛选与搜索
* [ ] 时间轴组件：刻度、缩放、拖拽滑杆、事件标记渲染与命名
* [ ] 回放控制：播放、跳转、区间循环、速度调节，与画布状态同步
* [ ] 节点实时高亮与边脉冲效果，基于事件驱动的渲染优化
* [ ] 状态监控面板：指标卡片与实时曲线（虚拟化渲染）
* [ ] 黑板快照查看器与节点属性联动（当前值/历史）
* [ ] 全局搜索与命令面板（节点、模板、操作）
* [ ] 可停靠/折叠面板布局，持久化面板位置与开关到本地
* [ ] 快捷键系统：保存、对齐、缩放、选择、调试控制映射
* [ ] 画布性能优化：批量更新、视口内渲染、事件节流
* [ ] 基础单元测试（XML 解析/生成、协议适配、状态机）

---
