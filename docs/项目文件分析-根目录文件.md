# BT Web Studio 项目文件分析 - 根目录文件

本文档分析了项目根目录下的核心文件，包括应用入口、配置和全局样式文件。

## 1. app.tsx

- **功能描述**: 应用主入口组件，负责整个应用的整体布局和顶层状态管理。
  - 包含顶部栏([top-bar.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/layout/top-bar.tsx))、模式感知布局([mode-aware-layout.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/layout/mode-aware-layout.tsx))等核心UI组件
  - 管理导入导出对话框状态([xml-dialog.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/xml-dialog.tsx))
  - 处理预览功能（树方向切换、紧凑模式）
  - 提供撤销/重做操作的占位符
- **使用状态**: 活跃使用中
- **依赖关系**: 
  - 依赖主题提供者([theme-provider.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/theme-provider.tsx))
  - 依赖状态管理([behavior-tree-store.ts](file:///home/zwhy/workspace/bt-web-studio/src/core/store/behavior-tree-store.ts))
  - 依赖国际化Hook([use-i18n.ts](file:///home/zwhy/workspace/bt-web-studio/src/hooks/use-i18n.ts))
  - 依赖Toast通知Hook([use-toast.ts](file:///home/zwhy/workspace/bt-web-studio/src/hooks/use-toast.ts))

## 2. main.tsx

- **功能描述**: React应用的启动入口文件，负责初始化React根节点。
  - 初始化并挂载React应用到DOM
  - 配置国际化(i18n)库
  - 设置全局主题提供者([theme-provider.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/theme-provider.tsx))
  - 注册全局Toast通知组件([toaster.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/ui/toaster.tsx))
- **使用状态**: 活跃使用中
- **依赖关系**: 
  - 依赖全局样式([globals.css](file:///home/zwhy/workspace/bt-web-studio/src/globals.css))
  - 依赖主题提供者([theme-provider.tsx](file:///home/zwhy/workspace/bt-web-studio/src/components/theme-provider.tsx))
  - 依赖国际化配置([i18n/index.ts](file:///home/zwhy/workspace/bt-web-studio/src/i18n/index.ts))

## 3. layout.tsx

- **功能描述**: 应用的根布局文件，定义了HTML文档的基本结构。
  - 定义了HTML文档的根结构（`<html>`和`<body>`标签）
  - 包装应用内容并设置语言属性
- **使用状态**: 活跃使用中（作为Next.js应用的根布局）
- **依赖关系**: 
  - 依赖全局样式([globals.css](file:///home/zwhy/workspace/bt-web-studio/src/globals.css))

## 4. config.ts

- **功能描述**: 全局配置文件，用于存储需要统一管理的配置项。
  - 定义调试器WebSocket的URL配置项(DEBUGGER_URL)
  - 支持通过环境变量(VITE_DEBUGGER_URL)覆盖默认配置
- **使用状态**: 活跃使用中
- **依赖关系**: 无

## 5. globals.css

- **功能描述**: 全局样式入口文件，负责导入项目所有的样式文件并定义基础的全局样式。
  - 导入深色主题增强样式([dark-theme-enhancements.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/dark-theme-enhancements.css))
  - 导入模式化主题样式([mode-themes.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-themes.css))
  - 导入模式切换动画样式([mode-droplet.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-droplet.css), [mode-wave.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-wave.css))
  - 定义Tailwind CSS基础样式和自定义变量
  - 定义深色主题颜色变量，包括行为树专用颜色、断点调试颜色、时间轴颜色等
- **使用状态**: 活跃使用中
- **依赖关系**: 
  - 依赖样式文件: [dark-theme-enhancements.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/dark-theme-enhancements.css), [mode-themes.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-themes.css), [mode-droplet.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-droplet.css), [mode-wave.css](file:///home/zwhy/workspace/bt-web-studio/src/styles/mode-wave.css)